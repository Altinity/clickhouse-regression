version: "2.3"

services:
  clickhouse:
    extends:
      file: ../../docker-compose/clickhouse-service.yml
      service: clickhouse
    volumes:
      - ${CLICKHOUSE_TESTS_DIR}/configs/clickhouse/config.d/:/etc/clickhouse-server/config.d/
      - ${CLICKHOUSE_TESTS_DIR}/configs/ssl_conf.xml:/etc/clickhouse-client/config.xml
      - ${CLICKHOUSE_TESTS_DIR}/configs/server.crt:/etc/clickhouse-server/server.crt
      - ${CLICKHOUSE_TESTS_DIR}/configs/server.key:/etc/clickhouse-server/server.key
      - ${CLICKHOUSE_TESTS_DIR}/configs/dhparam.pem:/etc/clickhouse-server/dhparam.pem
      - ${CLICKHOUSE_TESTS_DIR}/configs/clickhouse-base/config.xml:/etc/clickhouse-server/config.xml
      - ${CLICKHOUSE_TESTS_DIR}/configs/clickhouse-base/users.xml:/etc/clickhouse-server/users.xml
